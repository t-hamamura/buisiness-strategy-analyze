# Business Strategy Research System (BSRS)

ビジネス戦略研究のための包括的な自動化システムです。Cursor AIとの対話形式で、8フェーズ・36テーマにわたる詳細な事業戦略調査を実行し、構造化されたレポートを自動生成します。

## 💻 システム要件

- **OS**: Windows 10/11、macOS 10.15以上、Linux（Ubuntu 20.04以上）
- **Python**: 3.9以上
- **Cursor**: 最新版（[cursor.sh](https://cursor.sh/)からダウンロード）
- **メモリ**: 4GB以上推奨
- **ストレージ**: 1GB以上の空き容量
- **インターネット**: 安定した接続環境（Web検索用）

## 🎯 システムの特徴

- **包括的な戦略分析**: 内部環境分析から統合戦略まで、全8フェーズ・36テーマをカバー
- **Cursor AI統合**: 対話形式でAIによる深い調査と分析を実行
- **3段階深掘り分析**: 各テーマを「現状分析→戦略立案→実行計画」の3ステップで詳細化
- **自動レポート生成**: マークダウン形式で整理された詳細レポートを出力
- **品質管理システム**: 最低10情報源、3000文字以上などの品質基準を自動チェック
- **柔軟な実行モード**: 全体調査、フェーズ別、テーマ別の選択実行が可能

## 📋 調査フェーズとテーマ一覧

### フェーズⅠ：内部環境分析と事業モデル評価
- **A**: 内部環境・自社アセット評価レポート
- **B**: ビジネスモデル診断と再構築プラン

### フェーズⅡ：外部環境分析と事業機会の特定
- **1**: 市場規模・成長性分析レポート
- **2**: PESTLE分析・マクロ環境評価レポート
- **3**: 競合インテリジェンス・スイッチング要因分析
- **4**: テクノロジートレンド・セキュリティ機会分析

### フェーズⅢ：ターゲット顧客とインサイトの解明
- **5**: 顧客セグメンテーション・ペルソナ定義
- **6**: 顧客インサイト・メッセージング戦略
- **7**: カスタマージャーニー・体験マッピング

### フェーズⅣ：提供価値と市場投入（GTM）戦略
- **8**: プロダクト仮説検証プロセス設計
- **9**: ブランド・アイデンティティ戦略の策定
- **10**: Go-to-Market戦略・セールスプラン
- **11**: パートナーシップ・エコシステム戦略
- **12**: グローバル展開・ローカライゼーション戦略

### フェーズⅤ：グロース戦略と収益性分析
- **13**: 成長ドライバー・リテンション改善戦略
- **14**: ユニットエコノミクス（LTV/CAC）分析
- **15**: フリーミアム戦略の導入計画

### フェーズⅥ：マーケティング・コミュニケーション戦略
- **16**: コンテンツ＆チャネル戦略の策定
- **17**: クリエイティブ改善・学習プロセス構築
- **18**: 広報・PR戦略
- **19**: 広告メディアプランニング
- **20**: YouTube運用戦略
- **21**: Instagram運用戦略
- **22**: X(Twitter)運用戦略
- **23**: TikTok運用戦略
- **24**: アフィリエイト・マーケティング戦略
- **25**: インフルエンサーマーケティング戦略
- **26**: ポストセールス・コミュニティ戦略

### フェーズⅦ：戦略実行を支える組織と基盤
- **27**: マーケティングテクノロジー基盤設計
- **28**: セールス・イネーブルメント体制の構築
- **29**: KPI設計とモニタリングダッシュボード構築
- **30**: 戦略的人員・予算計画の策定
- **31**: データ駆動型意思決定プロセスの導入
- **32**: 「学習する組織」への変革プラン

### フェーズⅧ：持続可能性とリスクマネジメント
- **33**: ESG・サステナビリティ戦略策定
- **34**: 事業リスク・シナリオプランニング
- **35**: クライシス・マネジメント・プレイブック

### 最終フェーズ：全体戦略の統合と提言
- **Z**: 事業戦略 全体サマリーレポート

## 📁 プロジェクト構成

```
buisiness-strategy-analyze/
├── src/                    # メインソースコード
│   ├── main.py            # メインコントローラー（対話モード）
│   ├── controller/        # 調査実行制御
│   ├── engine/           # リサーチエンジン（Cursor AI連携）
│   ├── generator/        # レポート生成
│   └── utils/            # ユーティリティ（設定読込、品質チェック等）
├── config/               # 設定ファイル
│   ├── system_config.json # システム設定
│   └── phase_config.json  # フェーズ・テーマ定義
├── prompts/              # プロンプトテンプレート（36テーマ×3ステップ）
├── templates/            # 設定ファイルテンプレート
├── outputs/              # 生成されたレポート
├── tests/                # テストファイル
├── run_research.py       # メイン実行スクリプト
├── setup.py             # 初期セットアップ
├── create_prompts.py    # プロンプト生成
├── requirements.txt     # 依存パッケージ
├── project_config.md    # プロジェクト設定（ユーザー作成）
├── USAGE.md             # 詳細使用方法
└── EASY_START_GUIDE.md  # かんたんスタートガイド
```

## 🛠️ セットアップ（初めての方向け）

### 1. リポジトリの取得
```bash
git clone https://github.com/t-hamamura/buisiness-strategy-analyze.git
cd buisiness-strategy-analyze
```

### 2. Python環境の準備
```bash
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
```

### 3. 初期設定（自動）
```bash
python setup.py
```
**→ これで必要なファイルがすべて自動生成されます！**

### 4. プロジェクト設定
`project_config.md.example`をコピーして`project_config.md`を作成し、必要事項を記入してください。

### 5. 調査の開始
```bash
python run_research.py
```

**project_config.md を編集：**（テキストエディタで開いて編集）

```markdown
# 事業調査設定ファイル

## 1. 基本情報
- プロジェクト名: AI_SaaS_事業戦略_2025
- 自社名: 株式会社テックイノベーション
- 業界: SaaS・クラウドサービス
- 事業部門: 新規事業開発部

## 2. 製品・サービス情報
- 主要製品/サービス: AIチャットボット「SmartBot」
- 製品/サービスの概要: 中小企業向けの高機能AIチャットボット。顧客サポート業務を自動化し、24時間365日の対応を実現
- ブランド名: SmartBot

## 3. 市場・競合情報
- 対象市場: 日本国内の中小企業向けAIチャットボット市場
- 国・地域: 日本
- 競合企業: ChatPlus, KARAKURI, Zendesk
- 市場規模（推定）: 500億円

## 4. 顧客情報
- ターゲット顧客: 従業員50-500名の中小企業
- 分析対象とする主要な顧客ペルソナ: カスタマーサポート部門の責任者（40代、コスト削減と業務効率化を重視）

## 5. 戦略目標
- 計測可能な最重要目標: 2025年末までに有料顧客1,000社獲得
- 調査の目的: 競合優位性の確立と効果的なGTM戦略の策定
```

**記入のポイント：**
- `[角括弧]`の部分を実際の情報に置き換える
- 具体的で測定可能な内容を記入
- 競合企業は3社程度記載

## 📖 使用方法（ステップバイステップ）

### 5. 調査の開始

```bash
# システムを起動
python run_research.py
```

### 6. 実行モードの選択

```
実行モードを選択してください:
1. 全体調査を実行        ← 初めての方は「3」がおすすめ
2. フェーズを選択して実行
3. テーマを選択して実行   ← まずはこれで1つだけ試す
4. 品質チェックと再実行

選択 (1-4): 3
```

**初めての場合は「3」を選んで、1つのテーマだけ試すことをお勧めします**

### 7. Cursor AIとの対話手順

#### ① プロンプトが表示されたら
```
=====================================
📋 以下の内容をCursorのチャット欄にコピーして実行してください：
=====================================
[長いプロンプトが表示される]
```

#### ② Cursorで実行
1. **Cursorを開く**
2. **新しいチャットを開始**（Cmd/Ctrl + L）
3. **プロンプト全体をコピー**してチャット欄に貼り付け
4. **Web検索を有効化**：
   - チャット入力欄の右側にある「🔍」アイコンをクリック
   - または「Search」ボタンをクリック
   - ボタンが青く光れば有効化完了
5. **Enter**を押して実行開始
6. Cursorが調査を実行（2-3分待つ）

#### ③ 結果をシステムに戻す
1. Cursorの回答が完了したら、**回答全体を選択**（Cmd/Ctrl + A）
2. **コピー**（Cmd/Ctrl + C）
3. ターミナルに戻り、**Enter**を押す
4. 「📝 調査結果を入力してください」と表示されたら**ペースト**
5. **Ctrl+D**（Mac）または**Ctrl+Z**（Windows）で入力完了

### 8. 調査の流れ

各テーマは3つのステップで構成されています：
- **ステップ1**: 現状分析（約5分）
- **ステップ2**: 戦略立案（約5分）  
- **ステップ3**: 実行計画（約5分）

**合計約15分で1テーマが完了します**

### 出力形式とレポートの確認

調査が完了すると、以下の場所にレポートが保存されます：

```
outputs/
└── AI_SaaS_事業戦略_2025/    ← あなたのプロジェクト名
    ├── phase_1/
    │   ├── A_内部環境・自社アセット評価レポート.md
    │   └── B_ビジネスモデル診断と再構築プラン.md
    ├── phase_2/
    │   ├── 1_市場規模・成長性分析レポート.md
    │   └── ...
    └── 00_全体戦略サマリーレポート_20250106.md
```

**レポートを確認する方法：**
1. **Markdownビューア**で開く（VSCode、Cursor、Typoraなど）
2. **ブラウザ**で確認（Chrome拡張機能「Markdown Viewer」など）
3. **PDFに変換**（必要に応じて）

## 🔧 品質基準

各レポートは以下の品質基準でチェックされます：

- **文字数**: 最低3,000文字
- **情報源**: 最低10個の信頼できる引用
- **必須セクション**: 現状分析、戦略提言、実行計画、参考文献
- **図表**: 分析図表の包含

## ❓ よくある質問・トラブルシューティング

### Q1: project_config.md.example が見つかりません
**A**: テンプレートファイルから手動でコピーしてください：
```bash
cp templates/research_config_template.md project_config.md
```

### Q2: Cursorの Web検索ボタンが見つかりません
**A**: Cursor の最新版を使用していることを確認してください。チャット入力欄の右側にある検索アイコン（🔍）をクリックします。

### Q3: 結果の貼り付け後、Ctrl+D が効きません
**A**: 
- Windows: **Ctrl+Z** を押してから **Enter**
- Mac: **Ctrl+D** 
- うまくいかない場合: 結果を貼り付けた後、新しい行で「END」と入力して **Ctrl+C**

### Q4: 文字化けが発生します
**A**: ターミナルの文字コードをUTF-8に設定してください：
- Windows: `chcp 65001`
- Mac/Linux: 通常は設定不要

### Q5: 全体調査にどのくらい時間がかかりますか？
**A**: 
- 1テーマ: 約15分（3ステップ×5分）
- 1フェーズ: 約30分〜3時間（テーマ数による）
- 全体調査: 約8〜10時間（36テーマ）

### 💡 初めての方へのアドバイス

1. **まず1つのテーマで練習**：テーマ「A」（内部環境分析）から始めることをお勧めします
2. **Web検索は必須**：より良い分析結果を得るために、必ずWeb検索を有効化してください
3. **休憩を取る**：長時間の調査は疲れるので、フェーズごとに休憩を取りましょう
4. **結果は自動保存**：途中で中断しても、完了したテーマの結果は保存されています

## 🎯 クイックスタートのまとめ

```bash
# 1. セットアップ（初回のみ）
git clone https://github.com/t-hamamura/buisiness-strategy-analyze.git
cd buisiness-strategy-analyze
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
python run_research.py  # 初期化後、Ctrl+Cで終了

# 2. 設定ファイル作成
cp templates/research_config_template.md project_config.md
# project_config.md を編集

# 3. 調査開始
python run_research.py
# 「3」を選択 → テーマを1つ選択 → Cursorで実行
```

## 🚀 最新のリファクタリング・品質向上ポイント（2024年6月）

本システムは2024年6月に大規模なリファクタリングを実施し、以下の点で品質・保守性・拡張性が大幅に向上しました：

- **ロギング統一**: すべてのprint出力をPython標準の`logging`モジュールに統一。運用時のエラー検知・デバッグが容易になりました。
- **型ヒントの徹底**: すべての関数・メソッドに型ヒントを付与し、可読性・自動補完・静的解析性を向上。
- **パスの絶対化**: ファイル・ディレクトリ操作はスクリプト自身の絶対パス起点で行い、カレントディレクトリ依存を排除。
- **Pydanticによる設定バリデーション**: `system_config.json`や`phase_config.json`などの設定ファイルはPydanticモデルで厳格にバリデーション。設定ミスや破損を即時検知。
- **Jinja2テンプレート化**: プロンプト生成ロジックをJinja2テンプレートに分離し、ハードコーディングを排除。テンプレートの再利用性・保守性が向上。
- **不要importの削除・black整形**: コード全体を`black`で自動整形し、PEP8に準拠。不要なimportも整理。
- **依存パッケージの明示**: `requirements.txt`に`pydantic`, `jinja2`, `black`等を明記。セットアップ時に自動インストール。
- **エラーハンドリング強化**: 主要なファイル操作・外部呼び出し・設定読込時にtry/exceptでエラーを捕捉し、ユーザーに明確なメッセージを表示。
- **セキュリティ・堅牢性**: 外部入力やファイル操作時の例外処理を徹底し、予期せぬクラッシュやデータ破損を防止。

## 🧑‍💻 開発・運用上のベストプラクティス

- **仮想環境の利用推奨**: `python -m venv venv`で仮想環境を作成し、依存パッケージの競合を防止。
- **blackによるコード整形**: 開発時は`black .`でコードスタイルを統一。
- **設定ファイルのバリデーション**: 設定ファイルを編集した際は、`python setup.py`や`run_research.py`実行時にエラーが出ないか必ず確認。
- **テンプレートのカスタマイズ**: `templates/`配下のJinja2テンプレートを編集することで、プロンプトやレポートの出力形式を柔軟に変更可能。
- **品質チェックの活用**: レポート生成後は品質チェック機能で必須要件（文字数・情報源・セクション等）を自動検証。
- **エラー発生時の対応**: ログ出力（outputs/やターミナル）を確認し、設定ミスや依存パッケージの不足がないかチェック。

## 📦 主要依存パッケージ

- [pydantic](https://pydantic-docs.helpmanual.io/)（設定バリデーション）
- [jinja2](https://palletsprojects.com/p/jinja/)（テンプレートエンジン）
- [black](https://black.readthedocs.io/)（コード整形）
- その他: `logging`, `pathlib`, `subprocess` など標準ライブラリ

## 📝 変更履歴

- 2024-06: 大規模リファクタリング（上記品質向上ポイントを全ファイルに適用）
- 2024-05以前: 基本機能の実装
